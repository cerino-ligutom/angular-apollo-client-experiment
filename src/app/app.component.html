<div class="container my-5">
  <div class="row">
    <button class="btn btn-outline-primary" (click)="writeToCacheDirectWay()">
      Write random number to cache (direct way)
    </button>
    <div class="input-group mt-2">
      <input class="form-control" style="max-width: 200px;" #cacheInput type="number" value="0" />
      <div class="input-group-append">
        <button class="btn btn-outline-primary" (click)="writeToCacheMutationWay(cacheInput.value)">
          Write input to cache (mutation way)
        </button>
        <button class="btn btn-outline-primary" (click)="writeToCacheMutationWayWithCacheUpdate(cacheInput.value)">
          Write input to cache with cache update (mutation way)
        </button>
      </div>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-md-6">
      <h2>Number Listener 1 (main):</h2>
      <h1>{{ customRandomNumberListener1 }}</h1>
    </div>
    <div class="col-md-6">
      <h2>Number Listener 2 (other):</h2>
      <h1>{{ customRandomNumberListener2 }}</h1>
    </div>
    <div class="col-md-12">
      <h2>Number Listener 3 (async pipe):</h2>
      <h1>{{ customRandomNumberListener3 | async }}</h1>
    </div>
  </div>
</div>

<hr />

<div class="container my-5">
  <div class="row d-flex align-items-center flex-column">
    <button class="btn btn-lg btn-primary" (click)="fetchMoreUsersNaive()">
      Fetch more (naive)
    </button>
    <button class="btn btn-lg btn-primary" (click)="fetchMoreUsers()">
      Fetch more (smart + update cache)
    </button>
  </div>
  <h1 *ngIf="loading">
    Loading...
  </h1>
  <div *ngIf="!loading" class="row">
    <div class="col-md-6 d-flex align-items-center flex-column">
      <h2>Users</h2>
      <hr />
      <div class="d-flex flex-column">
        <div *ngFor="let user of users" class="user-list-item">
          <div class="card mb-2">
            <div class="card-body">
              <h4 class="card-title">{{ user.id }}</h4>
              <p class="card-text">Email: {{ user.email }}</p>
              <p class="card-text">Username: {{ user.username }}</p>
            </div>
            <div class="card-footer d-flex justify-content-end align-items-end">
              <button class="btn btn-info mr-2" (click)="generateNewUsername(user.id)">
                Randomize username
              </button>
              <button class="btn btn-danger" (click)="addAsBolbets(user)">
                Bolbets!
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 d-flex align-items-center flex-column">
      <h2>Bolbets</h2>
      <hr />
      <div class="d-flex flex-column">
        <div *ngFor="let bolbet of bolbets" class="user-list-item">
          <div class="card mb-2">
            <div class="card-body">
              <h4 class="card-title">{{ bolbet.id }}</h4>
              <p class="card-text">Email: {{ bolbet.email }}</p>
              <p class="card-text">Username: {{ bolbet.username }}</p>
            </div>
            <div class="card-footer d-flex justify-content-end align-items-end">
              <button class="btn btn-info mr-2" (click)="generateNewUsername(bolbet.id)">
                Randomize username
              </button>
              <button class="btn btn-success" (click)="removeAsBolbets(bolbet.id)">
                Enlightened!
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
